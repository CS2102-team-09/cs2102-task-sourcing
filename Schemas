CREATE TABLE users (
  user_id CHAR(8) PRIMARY KEY,
  points NUMERIC DEFAULT 0,
  is_admin BOOL DEFAULT False
);

CREATE TABLE task_managed_by (
  task_id CHAR(8) NOT NULL UNIQUE,
  user_id CHAR(8),
  status VARCHAR (32),
  date DATE NOT NULL,
  start_time NUMERIC,
  end_time NUMERIC,
  description VARCHAR(64) NOT NULL,

  FOREIGN KEY (user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE,
  PRIMARY KEY (task_id, user_id)
);

CREATE TABLE task_bid_by (
  task_id CHAR(8),
  user_id CHAR(8),
  amount NUMERIC,

  FOREIGN KEY (user_id) REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE,
  FOREIGN KEY (task_id) REFERENCES task_managed_by(task_id) ON UPDATE CASCADE ON DELETE CASCADE,
  PRIMARY KEY (user_id, task_id)
);
