
-- task is a weak identity, so I merged task and manage
CREATE TABLE task_managed_by (
  task_id CHAR(8) UNIQUE,
  user_id CHR(8),
  status VARCHAR (32),
  start_time DATE,
  end_time DATE,
  expire_time DATE,
  bit_points NUMERIC DEFAULT 0,
  desctiption VARCHAR(64),

  FOREIGN KEY (user_id) REFERENCES users(user_id),
  PRIMARY KEY (task_id, user_id)
);

CREATE TABLE task_bid_by (
  task_id CHAR(8) UNIQUE,
  user_id CHR(8),
  amount NUMERIC,

  FOREIGN KEY (user_id) REFERENCES users(user_id),
  FOREIGN KEY (user_id) REFERENCES task_managed_by(user_id),
  PRIMARY KEY (user_id, task_id)
);

CREATE TABLE users (
  user_id CHAR(8) PRIMARY KEY,
  points NUMERIC DEFAULT 0,
  is_admin BIT DEFAULT 0
);